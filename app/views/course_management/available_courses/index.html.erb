<%= render 'search' %>

<div class='row'>
  <div class='col-lg-12'>
    <div class='card'>
      <div class='card-header'>
        <%= fa_icon 'align-justify', text: t('.available_courses') %>
        <span class='pull-right'>
          <%= link_to_new t('.add_new_available_course'), new_available_course_path %>
        </span>
      </div>
      <div class='card-body'>
        <table class='table table-responsive-sm table-striped table-hover'>
          <thead>
            <tr>
              <th><%= t('.unit') %></th>
              <th><%= t('.academic_term') %></th>
              <th><%= t('.curriculum') %></th>
              <th><%= t('.course_code') %></th>
              <th><%= t('.course') %></th>
              <th><%= t('.group_count') %></th>
              <th><%= t('.quota') %></th>
              <th><%= t('actions') %></th>
            </tr>
          </thead>
          <tbody>
            <% @available_courses.each do |available_course| %>
              <tr>
                <td><%= available_course.unit.name %></td>
                <td><%= full_name(available_course.academic_term) %></td>
                <td><%= available_course.curriculum.name %></td>
                <td><%= available_course.course.code %></td>
                <td><%= available_course.course.name %></td>
                <td><%= available_course.groups_count %></td>
                <td><%= available_course.groups.sum(:quota) %></td>
                <td><%= link_to_actions(available_course) %></td>
              </tr>
            <% end %>
          </tbody>
        </table>
      </div>
      <div class='card-footer'>
        <nav aria-label='pagination'>
          <ul class='pagination justify-content-center'>
            <%== pagy_bootstrap_nav(@pagy) %>
          </ul>
        </nav>
      </div>
    </div>
  </div>
</div>
