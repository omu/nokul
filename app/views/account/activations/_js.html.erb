<script type='text/javascript'>
  $(document).ready(function() {
    flatpickr('.datetimepicker', { altInput: true })

    $('#activation_country').select2();
    $('#activation_mobile_phone').mask('(999) 999-9999');

    var labels = $("label[for='activation_serial'], label[for='activation_serial_no'], #span_serial, #span_serial_no")

    function setDisabledStateOfInputs (runTime) {
      isSerialNumberInputsPresent = $('#activation_serial').val() !== '' || $('#activation_serial_no').val() !== ''

      if (isSerialNumberInputsPresent) {
        $('#activation_document_no').prop('disabled', true)
        $("label[for='activation_document_no']").addClass('text-muted')
      } else if (!isSerialNumberInputsPresent && runTime === 'change') {
        $('#activation_document_no').prop('disabled', false)
        $("label[for='activation_document_no']").removeClass('text-muted')
      }

      if ($('#activation_document_no').val() !== '') {
        $('#activation_serial, #activation_serial_no').prop('disabled', true)
        labels.addClass('text-muted')
      } else if ($('#activation_document_no').val() === '' && runTime === 'change') {
        $('#activation_serial, #activation_serial_no').prop('disabled', false)
        labels.removeClass('text-muted')
      }
    }

    setDisabledStateOfInputs('init')

    $('#activation_serial, #activation_serial_no, #activation_document_no').on('input', function () {
      setDisabledStateOfInputs('change')
    })
  })
</script>
