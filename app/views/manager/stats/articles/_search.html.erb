<div id='SearchForms' role='tablist'>
  <div class='card'>
    <div class='card-header' role='tab' id='Search'>
      <h5 class='mb-0'>
        <a class='collapsed'
           data-toggle='collapse'
           href='#collapseSearch'
           id='collapseSearchLink'
           aria-expanded='false'
           aria-controls='Search'>
          <%= t('search') %>
        </a>
        <div class='float-right'>
          <%= link_to t('reset'), manager_articles_index_path, class: 'btn btn-warning btn-sm' %>
        </div>
      </h5>
    </div>
    <div id='collapseSearch'
         class='collapse show'
         role='tabpanel'
         aria-labelledby='Search'
         data-parent='#SearchForms'>
      <div class='card-body'>
        <%= form_tag manager_articles_index_path, method: :get do %>
          <div class='row'>
            <div class="form-group col-sm-6">
              <%= label_tag :term, t('smart_search') %>
              <%= text_field_tag :term,
                                params[:term],
                                placeholder: t('.smart_search_placeholder'),
                                class:       'form-control' %>
            </div>
            <div class='form-group col-sm-6'>
              <%= label_tag(:year, t('year')) %>
              <%= select_tag(:year,
                             options_for_select(Article.distinct.pluck(:year).compact.sort.reverse, params[:year]),
                             include_blank: true,
                             class:         'form-control',
                             style:         'width: 100%') %>
            </div>
            <div class="col-sm-4">
              <div class="form-group">
                <%= label_tag(:access_type, t('.access_type')) %>
                <%= select_tag(:access_type,
                               options_for_select(enum_options_for_select(Article, :access_type), params[:access_type]),
                               include_blank: true,
                               class:         'form-control',
                               style:         'width: 100%') %>
              </div>
            </div>
            <div class="col-sm-4">
              <div class="form-group">
                <%= label_tag(:scope, t('.scope')) %>
                <%= select_tag(:scope,
                               options_for_select(enum_options_for_select(Article, :scope), params[:scope]),
                               include_blank: true,
                               class:         'form-control',
                               style:         'width: 100%') %>
              </div>
            </div>
            <div class="col-sm-4">
              <div class="form-group">
                <%= label_tag(:review, t('.review')) %>
                <%= select_tag(:review,
                               options_for_select(enum_options_for_select(Article, :review), params[:review]),
                               include_blank: true,
                               class:         'form-control',
                               style:         'width: 100%') %>
              </div>
            </div>
            <div class="col-sm-4">
              <div class="form-group">
                <%= label_tag(:type, t('.type')) %>
                <%= select_tag(:type,
                               options_for_select(enum_options_for_select(Article, :type), params[:type]),
                               include_blank: true,
                               class:         'form-control',
                               style:         'width: 100%') %>
              </div>
            </div>
            <div class="col-sm-4">
              <div class="form-group">
                <%= label_tag(:index, t('.index')) %>
                <%= select_tag(:index,
                               options_for_select(options_for_select(Article.indices.keys), params[:index]),
                               include_blank: true,
                               class:         'form-control',
                               style:         'width: 100%') %>
              </div>
            </div>
            <div class="col-sm-4">
              <div class="form-group">
                <%= label_tag(:number_of_authors, t('.number_of_authors')) %>
                <%= select_tag(:number_of_authors,
                               options_for_select(options_for_select(Article.distinct.pluck(:number_of_authors).compact.sort), params[:number_of_authors]),
                               include_blank: true,
                               class:         'form-control',
                               style:         'width: 100%') %>
              </div>
            </div>
          </div>
          <div class='row'>
            <div class='col-sm-12'>
              <%= submit_tag t('search'), class: 'btn btn-primary' %>
            </div>
          </div>
        <% end %>
      </div>
    </div>
  </div>
</div>

<script type='text/javascript'>
  $(document).ready(function() {
    $('#academic_term_id').select2();
    $('#unit_id').select2();
  });
</script>
